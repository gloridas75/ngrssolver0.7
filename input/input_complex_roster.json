{
  "planningReference": "NGRS_COMPLEX_ROSTER_NOV2025",
  "planningHorizon": {
    "start": "2025-11-01",
    "end": "2025-11-30"
  },
  "employees": [
    {
      "id": "EMP001",
      "name": "Ahmad Hassan",
      "rank": "APO",
      "scheme": "A",
      "skills": ["patrol", "frisking", "detention"],
      "team": "ALPHA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-06-30"
        },
        {
          "type": "Detention",
          "expiryDate": "2025-12-15"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_DETENTION", "D_NIGHT_DETENTION"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP002",
      "name": "Fatima Al-Mansouri",
      "rank": "APO",
      "scheme": "A",
      "skills": ["patrol", "xray", "community"],
      "team": "ALPHA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-02-28"
        },
        {
          "type": "XRay",
          "expiryDate": "2025-11-30"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_XRAY", "D_COMMUNITY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP003",
      "name": "James Morrison",
      "rank": "APO",
      "scheme": "A",
      "skills": ["patrol", "frisking", "community"],
      "team": "BETA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-04-15"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_FRISKING", "D_COMMUNITY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP004",
      "name": "Sarah Chen",
      "rank": "APO",
      "scheme": "A",
      "skills": ["patrol", "xray", "detention"],
      "team": "BETA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2025-12-31"
        },
        {
          "type": "XRay",
          "expiryDate": "2026-01-20"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_XRAY", "D_NIGHT_DETENTION"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP005",
      "name": "Michael Rodriguez",
      "rank": "APO",
      "scheme": "B",
      "skills": ["patrol", "frisking", "detention"],
      "team": "GAMMA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-05-10"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_FRISKING", "D_DAY_DETENTION"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP006",
      "name": "Leila Ibrahim",
      "rank": "APO",
      "scheme": "B",
      "skills": ["patrol", "community", "xray"],
      "team": "GAMMA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-03-22"
        },
        {
          "type": "XRay",
          "expiryDate": "2025-12-08"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_COMMUNITY", "D_DAY_XRAY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP007",
      "name": "David Thompson",
      "rank": "AVSO",
      "scheme": "A",
      "skills": ["patrol", "detention", "community"],
      "team": "ALPHA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-07-14"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_NIGHT_DETENTION", "D_COMMUNITY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP008",
      "name": "Priya Sharma",
      "rank": "AVSO",
      "scheme": "A",
      "skills": ["patrol", "frisking", "xray"],
      "team": "BETA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-01-09"
        },
        {
          "type": "XRay",
          "expiryDate": "2026-02-14"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_FRISKING", "D_DAY_XRAY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP009",
      "name": "Robert Kennedy",
      "rank": "AVSO",
      "scheme": "B",
      "skills": ["patrol", "detention", "community"],
      "team": "GAMMA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-08-21"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_DETENTION", "D_COMMUNITY"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP010",
      "name": "Nina Volkov",
      "rank": "AVSO",
      "scheme": "P",
      "skills": ["patrol", "frisking"],
      "team": "ALPHA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-04-30"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_DAY_FRISKING"],
      "blacklistedDemands": ["D_NIGHT_PATROL", "D_NIGHT_DETENTION", "D_NIGHT_XRAY"]
    },
    {
      "id": "EMP011",
      "name": "Carlos Mendez",
      "rank": "APO",
      "scheme": "A",
      "skills": ["patrol", "xray", "detention"],
      "team": "BETA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-02-14"
        },
        {
          "type": "XRay",
          "expiryDate": "2025-11-25"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_XRAY", "D_DAY_DETENTION"],
      "blacklistedDemands": []
    },
    {
      "id": "EMP012",
      "name": "Amelia Foster",
      "rank": "APO",
      "scheme": "B",
      "skills": ["patrol", "frisking", "community"],
      "team": "GAMMA",
      "licenses": [
        {
          "type": "General",
          "expiryDate": "2026-06-05"
        }
      ],
      "whitelistedDemands": ["D_DAY_PATROL", "D_NIGHT_PATROL", "D_DAY_FRISKING", "D_COMMUNITY"],
      "blacklistedDemands": []
    }
  ],
  "demands": [
    {
      "id": "D_DAY_PATROL",
      "name": "Day Patrol Coverage",
      "baseDate": "2025-11-01",
      "headcount": 3,
      "productType": "APO",
      "skills": ["patrol"],
      "teamPreference": "MIXED",
      "shifts": [
        {
          "shiftId": "D",
          "name": "Day",
          "startTime": "08:00",
          "endTime": "20:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["D", "D", "D", "O", "D", "D", "O"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "DAY"
        }
      ]
    },
    {
      "id": "D_NIGHT_PATROL",
      "name": "Night Patrol Coverage",
      "baseDate": "2025-11-01",
      "headcount": 2,
      "productType": "APO",
      "skills": ["patrol"],
      "teamPreference": "MIXED",
      "shifts": [
        {
          "shiftId": "N",
          "name": "Night",
          "startTime": "20:00",
          "endTime": "08:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["N", "N", "N", "N", "O", "O", "O"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "NIGHT"
        }
      ]
    },
    {
      "id": "D_DAY_FRISKING",
      "name": "Day Frisking Detail",
      "baseDate": "2025-11-01",
      "headcount": 2,
      "productType": "APO",
      "skills": ["frisking"],
      "teamPreference": "ALPHA_BETA",
      "shifts": [
        {
          "shiftId": "D",
          "name": "Day",
          "startTime": "08:00",
          "endTime": "20:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["D", "D", "D", "D", "O", "O", "D"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "SPECIALIST"
        }
      ]
    },
    {
      "id": "D_NIGHT_DETENTION",
      "name": "Night Detention Coverage",
      "baseDate": "2025-11-01",
      "headcount": 2,
      "productType": "APO",
      "skills": ["detention"],
      "teamPreference": "BETA_GAMMA",
      "shifts": [
        {
          "shiftId": "N",
          "name": "Night",
          "startTime": "20:00",
          "endTime": "08:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["N", "N", "O", "N", "N", "O", "O"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "NIGHT"
        }
      ]
    },
    {
      "id": "D_DAY_DETENTION",
      "name": "Day Detention Coverage",
      "baseDate": "2025-11-01",
      "headcount": 1,
      "productType": "AVSO",
      "skills": ["detention"],
      "teamPreference": "GAMMA",
      "shifts": [
        {
          "shiftId": "D",
          "name": "Day",
          "startTime": "08:00",
          "endTime": "20:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["D", "O", "D", "D", "O", "D", "D"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "DAY"
        }
      ]
    },
    {
      "id": "D_DAY_XRAY",
      "name": "Day X-Ray Screening",
      "baseDate": "2025-11-01",
      "headcount": 2,
      "productType": "APO",
      "skills": ["xray"],
      "teamPreference": "MIXED",
      "shifts": [
        {
          "shiftId": "D",
          "name": "Day",
          "startTime": "08:00",
          "endTime": "20:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["D", "D", "O", "D", "D", "O", "D"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "SPECIALIST"
        }
      ]
    },
    {
      "id": "D_NIGHT_XRAY",
      "name": "Night X-Ray Screening",
      "baseDate": "2025-11-01",
      "headcount": 1,
      "productType": "AVSO",
      "skills": ["xray"],
      "teamPreference": "ALPHA",
      "shifts": [
        {
          "shiftId": "N",
          "name": "Night",
          "startTime": "20:00",
          "endTime": "08:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["N", "O", "N", "O", "N", "N", "O"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-01",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "NIGHT"
        }
      ]
    },
    {
      "id": "D_COMMUNITY",
      "name": "Community Engagement",
      "baseDate": "2025-11-01",
      "headcount": 1,
      "productType": "AVSO",
      "skills": ["community"],
      "teamPreference": "ALPHA",
      "shifts": [
        {
          "shiftId": "D",
          "name": "Day",
          "startTime": "09:00",
          "endTime": "17:00",
          "lunchDurationMin": 60,
          "rotationPattern": {
            "sequence": ["D", "D", "O", "O", "D", "D", "O"],
            "rotationCycleDays": 7,
            "rotationAnchor": "2025-11-03",
            "weekStartsOn": "Saturday"
          },
          "allowanceCode": "STANDARD"
        }
      ]
    }
  ],
  "hardConstraints": [
    {
      "id": "C1",
      "name": "Daily Hours Constraint (by Scheme)",
      "description": "Enforces maximum daily working hours based on employment scheme (A≤14h, B≤13h, P≤9h gross per shift)",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "schemeMaxHours": {
          "A": 14,
          "B": 13,
          "P": 9
        }
      }
    },
    {
      "id": "C2",
      "name": "Weekly & Monthly Hours Constraint",
      "description": "Ensures weekly hours ≤44h (normal only) and monthly OT ≤72h",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "weeklyNormalHoursCap": 44,
        "monthlyOTHoursCap": 72
      }
    },
    {
      "id": "C3",
      "name": "Maximum Consecutive Working Days Constraint",
      "description": "Prevents more than 12 consecutive working days without a full day off",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "maxConsecutiveWorkDays": 12
      }
    },
    {
      "id": "C4",
      "name": "Minimum Rest Between Shifts Constraint",
      "description": "Requires minimum 11 hours of rest between end of one shift and start of next",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "minRestMinutes": 660
      }
    },
    {
      "id": "C5",
      "name": "Minimum Off-Days Per Week Constraint",
      "description": "Ensures at least 1 full day off per 7-day rolling window",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "minOffDaysPerWeek": 1,
        "rollingWindowDays": 7
      }
    },
    {
      "id": "C7",
      "name": "License/Qualification Validity Constraint",
      "description": "Only assigns employees to demands requiring skills/licenses they currently hold and haven't expired",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "enforceExactExpiry": true
      }
    },
    {
      "id": "C10",
      "name": "Skill/Role Match Constraint",
      "description": "Ensures employee has required skills for the demand they're assigned to",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "strictMatching": true
      }
    },
    {
      "id": "C11",
      "name": "Rank/Product Type Match Constraint",
      "description": "Matches employee rank (APO/AVSO) with demand's product type requirement",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "strictMatching": true
      }
    },
    {
      "id": "C12",
      "name": "Team Completeness Constraint",
      "description": "Prefers to schedule complete teams where possible to enhance operational effectiveness",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "enforceTeams": true
      }
    },
    {
      "id": "C16",
      "name": "No Overlapping Shifts Constraint",
      "description": "Prevents same employee from being assigned to overlapping shifts on the same day",
      "weight": 1.0,
      "enabled": true,
      "parameters": {
        "allowMinorOverlap": false
      }
    }
  ],
  "softConstraints": [
    {
      "id": "S1",
      "name": "Rotation Pattern Compliance Constraint",
      "description": "Rewards assignments that follow defined rotation patterns (D-D-D-O-D-D-O sequences)",
      "weight": 5,
      "enabled": true,
      "parameters": {
        "patternComplianceReward": 2
      }
    },
    {
      "id": "S3",
      "name": "Consistent Shift Start Times Constraint",
      "description": "Encourages employees to have consistent start times across their shifts (reduces fatigue)",
      "weight": 4,
      "enabled": true,
      "parameters": {
        "consistencyBonus": 1
      }
    },
    {
      "id": "S4",
      "name": "Minimize Short Gap Penalties Constraint",
      "description": "Soft version of C4 - penalizes gaps < 8h but doesn't block solutions",
      "weight": 3,
      "enabled": true,
      "parameters": {
        "minimumPreferredGapHours": 8,
        "penaltyPerHour": 0.5
      }
    },
    {
      "id": "S5",
      "name": "Officer Continuity Constraint",
      "description": "Rewards assigning same employees to consecutive days/shifts (operational continuity)",
      "weight": 4,
      "enabled": true,
      "parameters": {
        "continuityBonus": 1.5
      }
    },
    {
      "id": "S8",
      "name": "Team Size Feasibility Constraint",
      "description": "Soft constraint for team size diversity - prefers balanced skill distribution",
      "weight": 2,
      "enabled": true,
      "parameters": {
        "diversityBonus": 0.5
      }
    },
    {
      "id": "S10",
      "name": "Fair OT Distribution Constraint",
      "description": "Encourages equitable overtime distribution across eligible employees",
      "weight": 3,
      "enabled": true,
      "parameters": {
        "fairnessBonus": 1
      }
    },
    {
      "id": "S12",
      "name": "Allowance Optimization Constraint",
      "description": "Rewards maximizing allowance-eligible shift assignments (night, specialist, etc.)",
      "weight": 2,
      "enabled": true,
      "parameters": {
        "allowanceBonus": 0.75
      }
    },
    {
      "id": "S15",
      "name": "Demand Coverage Score Constraint",
      "description": "Soft constraint maximizing overall demand coverage percentage",
      "weight": 5,
      "enabled": true,
      "parameters": {
        "coverageBonus": 2
      }
    },
    {
      "id": "S16",
      "name": "Whitelist/Blacklist Constraint",
      "description": "Rewards respecting employee whitelists (preferred assignments) and avoiding blacklists",
      "weight": 4,
      "enabled": true,
      "parameters": {
        "whitelistBonus": 1,
        "blacklistPenalty": 5
      }
    }
  ]
}
