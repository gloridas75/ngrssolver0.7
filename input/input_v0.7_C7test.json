{
  "schemaVersion": "0.70",
  "planningReference": "NGRS_C7_LICENSE_VALIDITY_TEST",
  "timezone": "Asia/Singapore",
  "fixedRotationOffset": true,
  "planningHorizon": {
    "startDate": "2025-12-01",
    "endDate": "2025-12-31"
  },
  "publicHolidays": [
    "2025-12-25"
  ],
  "solverRunTime": {
    "maxSeconds": 600
  },
  "schemeMap": {
    "A": "SchemeA",
    "B": "SchemeB",
    "P": "SchemeP"
  },
  "constraintList": [
    {
      "id": "momDailyHoursCap",
      "enforcement": "hard",
      "description": "Max daily hours by scheme (A: 14h, B: 13h, P: 9h)",
      "params": {
        "maxDailyHoursA": 14,
        "maxDailyHoursB": 13,
        "maxDailyHoursP": 9
      }
    },
    {
      "id": "momWeeklyHoursCap44h",
      "enforcement": "hard",
      "description": "Max 44 weekly normal hours (excludes OT)",
      "params": {
        "maxWeeklyHours": 44
      }
    },
    {
      "id": "apgdMinRestBetweenShifts",
      "enforcement": "hard",
      "description": "Minimum rest between consecutive shifts",
      "params": {
        "minRestMinutes": 480
      }
    },
    {
      "id": "oneShiftPerDay",
      "enforcement": "hard",
      "description": "Max 1 shift per employee per day",
      "params": {
        "oneShift": true
      }
    },
    {
      "id": "maxConsecutiveWorkingDays",
      "enforcement": "hard",
      "description": "Max consecutive working days without off-day",
      "params": {
        "maxConsecutiveDays": 12
      }
    },
    {
      "id": "minimumOffDaysPerWeek",
      "enforcement": "hard",
      "description": "Minimum off-days per 7-day rolling period",
      "params": {
        "minOffDaysPerWeek": 1
      }
    },
    {
      "id": "partTimerWeeklyHours",
      "enforcement": "hard",
      "description": "Part-timer (scheme P) limits: \u22644 days/week: 34.98h, >4 days/week: 29.98h",
      "params": {
        "maxHours4Days": 34.98,
        "maxHoursMoreDays": 29.98
      }
    },
    {
      "id": "licenseValidity",
      "enforcement": "hard",
      "description": "Check license/qualification expiry dates",
      "params": {}
    },
    {
      "id": "skillAndRoleMatch",
      "enforcement": "hard",
      "description": "Verify required skills and roles present",
      "params": {}
    },
    {
      "id": "rankAndProductTypeMatch",
      "enforcement": "hard",
      "description": "Match rank and product type requirements",
      "params": {}
    },
    {
      "id": "slotHeadcount",
      "enforcement": "hard",
      "description": "Fill all required slot positions",
      "params": {}
    },
    {
      "id": "noShiftOverlap",
      "enforcement": "hard",
      "description": "Prevent overlapping shift assignments",
      "params": {}
    },
    {
      "id": "monthlyOtCap72h",
      "enforcement": "hard",
      "description": "Max monthly OT cap (72h per employee)",
      "params": {
        "maxMonthlyOtHours": 72
      }
    },
    {
      "id": "genderBalance",
      "enforcement": "hard",
      "description": "Enforce gender mix for sensitive roles",
      "params": {}
    },
    {
      "id": "whitelistBlacklist",
      "enforcement": "hard",
      "description": "Enforce employee whitelist/blacklist for slots",
      "params": {}
    },
    {
      "id": "teamFirstRostering",
      "enforcement": "soft",
      "description": "Prefer keeping teams together",
      "params": {}
    },
    {
      "id": "minimizeGapsBetweenAssignedShifts",
      "enforcement": "soft",
      "description": "Minimize time gaps between consecutive shifts",
      "params": {}
    },
    {
      "id": "preferredTeamAssignment",
      "enforcement": "soft",
      "description": "Assign from preferred teams when possible",
      "params": {}
    },
    {
      "id": "consistentShiftStartTime",
      "enforcement": "soft",
      "description": "Prefer consistent start times for same employee",
      "params": {}
    },
    {
      "id": "officerContinuity",
      "enforcement": "soft",
      "description": "Prefer same officer at site across consecutive days",
      "params": {}
    },
    {
      "id": "minimizeShiftChangeWithinTeam",
      "enforcement": "soft",
      "description": "Minimize shift type changes within same team",
      "params": {}
    },
    {
      "id": "zonePreference",
      "enforcement": "soft",
      "description": "Honor zone or location preferences",
      "params": {}
    },
    {
      "id": "teamSizeFeasibility",
      "enforcement": "soft",
      "description": "Maintain reasonable team sizes",
      "params": {}
    },
    {
      "id": "fairOvertimeDistribution",
      "enforcement": "soft",
      "description": "Balance overtime fairly across eligible staff",
      "params": {}
    },
    {
      "id": "publicHolidayCoverage",
      "enforcement": "soft",
      "description": "Ensure adequate staffing on public holidays",
      "params": {}
    },
    {
      "id": "allowanceOptimization",
      "enforcement": "soft",
      "description": "Optimize allowance capture opportunities",
      "params": {}
    },
    {
      "id": "substituteLogic",
      "enforcement": "soft",
      "description": "Apply substitute coverage rules",
      "params": {}
    }
  ],
  "softConstraintWeights": {
    "rotationPatternCompliance": 10,
    "employeePreferences": 5,
    "consistentShiftStart": 3,
    "minimizeShortRestGaps": 8,
    "officerContinuity": 4,
    "minimizeTeamChanges": 2,
    "zonePreference": 3,
    "teamSizeFeasibility": 2,
    "travelSlackBuffer": 1,
    "fairOvertimeDistribution": 6,
    "publicHolidayCoverage": 4,
    "allowanceOptimization": 2,
    "substituteLogic": 1,
    "midMonthInsert": 1,
    "demandCoverageScore": 5,
    "travelSlackTime": 1
  },
  "demandItems": [
    {
      "demandId": "D_PATROL_SCHEME_P_TEST",
      "locationId": "ChangiT1",
      "ouId": "OU-PATROL",
      "shiftStartDate": "2025-12-01",
      "shifts": [
        {
          "shiftDetails": [
            {
              "shiftCode": "W",
              "start": "06:00",
              "end": "14:00",
              "nextDay": false
            },
            {
              "shiftCode": "E",
              "start": "14:00",
              "end": "22:00",
              "nextDay": false
            },
            {
              "shiftCode": "N",
              "start": "22:00",
              "end": "06:00",
              "nextDay": true
            }
          ],
          "includePublicHolidays": false,
          "includeEveOfPublicHolidays": true,
          "shiftSetId": "Set_SchemeP_8H",
          "coverageDays": [
            "Mon",
            "Tue",
            "Wed",
            "Thu",
            "Fri",
            "Sat",
            "Sun"
          ],
          "coverageAnchor": "2025-12-01",
          "whitelist": {
            "teamIds": [
              "TEAM-PARTTIMER"
            ],
            "employeeIds": []
          },
          "blacklist": {
            "employeeIds": []
          }
        }
      ],
      "requirements": [
        {
          "requirementId": "9001",
          "productTypeId": "APO",
          "rankId": "APO",
          "headcount": 4,
          "workPattern": [
            "W",
            "W",
            "W",
            "W",
            "O",
            "O"
          ],
          "requiredQualifications": [
            "FRISKING-LIC",
            "DETENTION-LIC",
            "XRAY-LIC"
          ],
          "gender": "Any",
          "Scheme": "P"
        }
      ]
    }
  ],
  "employees": [
    {
      "employeeId": "PT_001",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 0,
      "gender": "M",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_002",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 1,
      "gender": "F",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2025-12-10"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_003",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 2,
      "gender": "M",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2025-11-30"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_004",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 3,
      "gender": "F",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_005",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 4,
      "gender": "M",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_006",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 5,
      "gender": "F",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    },
    {
      "employeeId": "PT_007",
      "ouId": "OU-PATROL",
      "teamId": "TEAM-PARTTIMER",
      "productTypeId": "APO",
      "rankId": "APO",
      "scheme": "P",
      "rotationOffset": 0,
      "gender": "M",
      "qualifications": [
        {
          "code": "FRISKING-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "DETENTION-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        },
        {
          "code": "XRAY-LIC",
          "validFrom": "2023-01-01",
          "expiryDate": "2026-12-31"
        }
      ],
      "preferences": {},
      "unavailability": []
    }
  ],
  "shiftCatalogue": [
    {
      "shiftCode": "W",
      "shiftName": "Work Day (Morning)",
      "startTime": "06:00",
      "endTime": "14:00",
      "grossHours": 8.0,
      "lunchBreak": 0.0,
      "normalHours": 8.0,
      "otHours": 0.0,
      "allowances": []
    },
    {
      "shiftCode": "E",
      "shiftName": "Evening Shift",
      "startTime": "14:00",
      "endTime": "22:00",
      "grossHours": 8.0,
      "lunchBreak": 0.0,
      "normalHours": 8.0,
      "otHours": 0.0,
      "allowances": []
    },
    {
      "shiftCode": "N",
      "shiftName": "Night Shift (8h)",
      "startTime": "22:00",
      "endTime": "06:00",
      "grossHours": 8.0,
      "lunchBreak": 0.0,
      "normalHours": 8.0,
      "otHours": 0.0,
      "allowances": []
    },
    {
      "shiftCode": "O",
      "shiftName": "Off Day",
      "startTime": "00:00",
      "endTime": "00:00",
      "grossHours": 0.0,
      "lunchBreak": 0.0,
      "normalHours": 0.0,
      "otHours": 0.0,
      "allowances": []
    }
  ]
}