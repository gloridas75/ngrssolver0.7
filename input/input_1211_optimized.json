{
  "schemaVersion": "0.50",
  "planningReference": "NGRS_OPTIMAL_MINIMAL_VIOLATIONS",
  "timezone": "Asia/Singapore",
  "planningHorizon": {"startDate": "2025-11-01", "endDate": "2025-11-30"},
  "publicHolidays": [],
  "solverRunTime": {"maxSeconds": 600},
  "schemeMap": {"A": "SchemeA", "B": "SchemeB", "P": "SchemeP"},
  "constraintList": [
    {
      "id": "momDailyHoursCap",
      "enforcement": "hard",
      "description": "Max daily hours by scheme (A: 14h, B: 13h, P: 9h)",
      "params": {}
    },
    {
      "id": "momWeeklyHoursCap44h",
      "enforcement": "hard",
      "description": "Max 44 weekly normal hours (excludes OT)",
      "params": {"maxWeeklyHours": 44}
    },
    {
      "id": "apgdMinRestBetweenShifts",
      "enforcement": "hard",
      "description": "Minimum rest between consecutive shifts",
      "params": {"minRestMinutes": 660}
    },
    {
      "id": "oneShiftPerDay",
      "enforcement": "hard",
      "description": "Max 1 shift per employee per day",
      "params": {}
    },
    {
      "id": "maxConsecutiveWorkingDays",
      "enforcement": "hard",
      "description": "Max consecutive working days without off-day",
      "params": {"maxConsecutiveDays": 12}
    },
    {
      "id": "minimumOffDaysPerWeek",
      "enforcement": "hard",
      "description": "Minimum off-days per 7-day rolling period",
      "params": {"minOffDaysPerWeek": 1}
    },
    {
      "id": "partTimerWeeklyHours",
      "enforcement": "hard",
      "description": "Part-timer (scheme P) limits: â‰¤4 days/week: 34.98h, >4 days/week: 29.98h",
      "params": {"maxHours4Days": 34.98, "maxHoursMoreDays": 29.98}
    },
    {
      "id": "licenseValidity",
      "enforcement": "hard",
      "description": "Check license/qualification expiry dates",
      "params": {}
    },
    {
      "id": "skillAndRoleMatch",
      "enforcement": "hard",
      "description": "Verify required skills and roles present",
      "params": {}
    },
    {
      "id": "rankAndProductTypeMatch",
      "enforcement": "hard",
      "description": "Match rank and product type requirements",
      "params": {}
    },
    {
      "id": "slotHeadcount",
      "enforcement": "hard",
      "description": "Fill all required slot positions",
      "params": {}
    },
    {
      "id": "noShiftOverlap",
      "enforcement": "hard",
      "description": "Prevent overlapping shift assignments",
      "params": {}
    },
    {
      "id": "monthlyOtCap72h",
      "enforcement": "hard",
      "description": "Max monthly OT cap (72h per employee)",
      "params": {"maxMonthlyOtHours": 72}
    },
    {
      "id": "genderBalance",
      "enforcement": "hard",
      "description": "Enforce gender mix for sensitive roles (e.g., frisking)",
      "params": {}
    },
    {
      "id": "whitelistBlacklist",
      "enforcement": "hard",
      "description": "Enforce employee whitelist/blacklist for slots",
      "params": {}
    },
    {
      "id": "teamFirstRostering",
      "enforcement": "soft",
      "description": "Prefer keeping teams together",
      "params": {}
    },
    {
      "id": "minimizeGapsBetweenAssignedShifts",
      "enforcement": "soft",
      "description": "Minimize time gaps between consecutive shifts",
      "params": {}
    },
    {
      "id": "preferredTeamAssignment",
      "enforcement": "soft",
      "description": "Assign from preferred teams when possible",
      "params": {}
    },
    {
      "id": "consistentShiftStartTime",
      "enforcement": "soft",
      "description": "Prefer consistent start times for same employee",
      "params": {}
    },
    {
      "id": "officerContinuity",
      "enforcement": "soft",
      "description": "Prefer same officer at site across consecutive days",
      "params": {}
    },
    {
      "id": "minimizeShiftChangeWithinTeam",
      "enforcement": "soft",
      "description": "Minimize shift type changes within same team",
      "params": {}
    },
    {
      "id": "zonePreference",
      "enforcement": "soft",
      "description": "Honor zone or location preferences",
      "params": {}
    },
    {
      "id": "teamSizeFeasibility",
      "enforcement": "soft",
      "description": "Maintain reasonable team sizes",
      "params": {}
    },
    {
      "id": "fairOvertimeDistribution",
      "enforcement": "soft",
      "description": "Balance overtime fairly across eligible staff",
      "params": {}
    },
    {
      "id": "publicHolidayCoverage",
      "enforcement": "soft",
      "description": "Ensure adequate staffing on public holidays",
      "params": {}
    },
    {
      "id": "allowanceOptimization",
      "enforcement": "soft",
      "description": "Optimize allowance capture opportunities",
      "params": {}
    },
    {
      "id": "substituteLogic",
      "enforcement": "soft",
      "description": "Apply substitute coverage rules",
      "params": {}
    },
    {
      "id": "midMonthInsert",
      "enforcement": "soft",
      "description": "Optimize mid-month roster adjustments",
      "params": {}
    },
    {
      "id": "demandCoverageScore",
      "enforcement": "soft",
      "description": "Maximize demand coverage score",
      "params": {}
    },
    {
      "id": "travelSlackTime",
      "enforcement": "soft",
      "description": "Account for travel time between locations",
      "params": {}
    }
  ],
  "solverScoreConfig": {
    "teamFirstRostering": 5,
    "minimizeGapsBetweenAssignedShifts": 1,
    "preferredTeamAssignment": 3,
    "consistentShiftStartTime": 2,
    "officerContinuity": 4,
    "minimizeShiftChangeWithinTeam": 2,
    "zonePreference": 1,
    "teamSizeFeasibility": 2,
    "fairOvertimeDistribution": 3,
    "publicHolidayCoverage": 4,
    "allowanceOptimization": 1,
    "substituteLogic": 2,
    "midMonthInsert": 1,
    "demandCoverageScore": 5,
    "travelSlackTime": 1
  },
  "demandItems": [
    {
      "demandId": "D_DAY_FRISKING",
      "siteId": "ChangiT1",
      "ouId": "OU-01",
      "productTypeId": "APO",
      "rankId": "APO",
      "headcount": 2,
      "shiftStartDate": "2025-11-01",
      "shifts": [{
        "shiftDetails": [{"shiftCode": "D", "start": "08:00", "end": "20:00", "nextDay": false}],
        "rotationSequence": ["D", "D", "D", "D", "D", "O", "O"],
        "includePublicHolidays": false,
        "includeEveOfPublicHolidays": false,
        "preferredTeams": ["TEAM-1"],
        "requiredQualifications": [],
        "requiredSkills": ["frisking"],
        "shiftSetId": "DAY_FRISKING",
        "rotationCycleDays": 7,
        "rotationAnchor": "2025-11-01",
        "weekStartsOn": "MON",
        "whitelist": {
          "ouIds": [],
          "teamIds": ["TEAM-1"],
          "employeeIds": ["ALICE_FRISKER", "BOB_FRISKER", "CHARLIE_FRISKER", "DIANA_FRISKER", "EVA_FRISKER", "FRANK_FRISKER"]
        },
        "slotConstraints": {"genderMix": {"requireFemale": true, "minFemale": 1}, "roles": []}
      }]
    },
    {
      "demandId": "D_NIGHT_DETENTION",
      "siteId": "ChangiT1",
      "ouId": "OU-02",
      "productTypeId": "APO",
      "rankId": "APO",
      "headcount": 2,
      "shiftStartDate": "2025-11-01",
      "shifts": [{
        "shiftDetails": [{"shiftCode": "N", "start": "20:00", "end": "08:00", "nextDay": true}],
        "rotationSequence": ["N", "N", "N", "N", "N", "O", "O"],
        "includePublicHolidays": false,
        "includeEveOfPublicHolidays": false,
        "preferredTeams": ["TEAM-2"],
        "requiredQualifications": ["DETENTION-LIC"],
        "requiredSkills": ["detention"],
        "shiftSetId": "NIGHT_DETENTION",
        "rotationCycleDays": 7,
        "rotationAnchor": "2025-11-01",
        "weekStartsOn": "MON",
        "whitelist": {
          "ouIds": [],
          "teamIds": ["TEAM-2"],
          "employeeIds": ["CAROL_DETENTION", "DAVID_DETENTION", "HENRY_DETENTION", "IRIS_DETENTION", "JACK_DETENTION"]
        },
        "slotConstraints": {"genderMix": {}, "roles": []}
      }]
    },
    {
      "demandId": "D_DAY_XRAY",
      "siteId": "ChangiT1",
      "ouId": "OU-03",
      "productTypeId": "AVSO",
      "rankId": "AVSO",
      "headcount": 1,
      "shiftStartDate": "2025-11-01",
      "shifts": [{
        "shiftDetails": [{"shiftCode": "D", "start": "08:00", "end": "20:00", "nextDay": false}],
        "rotationSequence": ["D", "D", "D", "O", "D", "D", "O"],
        "includePublicHolidays": false,
        "includeEveOfPublicHolidays": false,
        "preferredTeams": ["TEAM-3"],
        "requiredQualifications": ["XRAY-LIC"],
        "requiredSkills": ["xray"],
        "shiftSetId": "DAY_XRAY",
        "rotationCycleDays": 7,
        "rotationAnchor": "2025-11-01",
        "weekStartsOn": "MON",
        "whitelist": {
          "ouIds": [],
          "teamIds": ["TEAM-3"],
          "employeeIds": ["FRANK_XRAY", "GRACE_XRAY", "MONA_XRAY"]
        },
        "slotConstraints": {"genderMix": {}, "roles": []}
      }]
    }
  ],
  "employees": [
    {"employeeId": "ALICE_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 0, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "F", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "BOB_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 1, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "M", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "CHARLIE_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 2, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "M", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "DIANA_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 3, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "F", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "EVA_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 4, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "F", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "FRANK_FRISKER", "ouId": "OU-01", "teamId": "TEAM-1", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 5, "qualifications": [{"code": "FRISKING-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["frisking", "patrol"], "gender": "M", "licenses": [{"code": "FRISKING-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "CAROL_DETENTION", "ouId": "OU-02", "teamId": "TEAM-2", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 0, "qualifications": [{"code": "DETENTION-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["detention", "patrol"], "gender": "F", "licenses": [{"code": "DETENTION-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "DAVID_DETENTION", "ouId": "OU-02", "teamId": "TEAM-2", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 1, "qualifications": [{"code": "DETENTION-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["detention", "community"], "gender": "M", "licenses": [{"code": "DETENTION-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "HENRY_DETENTION", "ouId": "OU-02", "teamId": "TEAM-2", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 2, "qualifications": [{"code": "DETENTION-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["detention", "patrol"], "gender": "M", "licenses": [{"code": "DETENTION-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "IRIS_DETENTION", "ouId": "OU-02", "teamId": "TEAM-2", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 3, "qualifications": [{"code": "DETENTION-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["detention", "community"], "gender": "F", "licenses": [{"code": "DETENTION-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "JACK_DETENTION", "ouId": "OU-02", "teamId": "TEAM-2", "productTypeId": "APO", "rankId": "APO", "scheme": "A", "rotationOffset": 4, "qualifications": [{"code": "DETENTION-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["detention", "patrol"], "gender": "M", "licenses": [{"code": "DETENTION-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "FRANK_XRAY", "ouId": "OU-03", "teamId": "TEAM-3", "productTypeId": "AVSO", "rankId": "AVSO", "scheme": "A", "rotationOffset": 0, "qualifications": [{"code": "XRAY-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["xray", "patrol"], "gender": "M", "licenses": [{"code": "XRAY-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "GRACE_XRAY", "ouId": "OU-03", "teamId": "TEAM-3", "productTypeId": "AVSO", "rankId": "AVSO", "scheme": "A", "rotationOffset": 1, "qualifications": [{"code": "XRAY-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["xray", "community"], "gender": "F", "licenses": [{"code": "XRAY-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []},
    {"employeeId": "MONA_XRAY", "ouId": "OU-03", "teamId": "TEAM-3", "productTypeId": "AVSO", "rankId": "AVSO", "scheme": "A", "rotationOffset": 2, "qualifications": [{"code": "XRAY-LIC", "expiryDate": "2026-12-31", "status": "active"}], "skills": ["xray", "patrol"], "gender": "F", "licenses": [{"code": "XRAY-LIC", "type": "standard", "expiryDate": "2026-12-31"}], "preferences": {}, "unavailability": []}
  ]
}
